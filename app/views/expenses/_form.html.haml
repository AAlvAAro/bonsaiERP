= simple_form_for(expense_service, url: get_expense_url(expense_service), html: {class: 'enter ui-form'}) do |f|
  = bonsai_form_error(f)

  -########################################
  -# Render common form elements
  #trans= render 'transactions/shared_form', f: f

  -########################################
  -# Render items
  .row-fluid
    =render "transactions/form_items", f: f, transaction: expense_service, details: :expense_details

  = f.submit 'Salvar', class: 'btn b btn-large trans', name: 'commit_save', 'data-show' => 'trans.direct_payment| inverse'
  = f.submit 'Aprovar', class: 'btn btn-success b btn-large', name: 'commit_approve' if expense_service.is_draft?


:javascript
  $(function() {
    $('body').on('new-contact', '.contact-form', function(event, resp) {
      $('.contact_id').val(resp.matchcode).data('value', resp.matchcode)
      .prev().val(resp.matchcode);
    });

    //$('#transaction_currency').select2();

    fx.rates = exchangeRates.rates;
    //rivets.bind($('.currency-input'), {currency: currency});

    expense = new App.Expense(#{AccountQuery.new.bank_cash_options.to_json});
    expense.setList();
  });
