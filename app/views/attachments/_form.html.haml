%div
  %input(type="hidden" ng-init="attachable_id=#{ attachable.id }")
  %input(type="hidden" ng-init="attachable_type='#{ attachable.class }'")
  %input(type="hidden" ng-init="position=#{ attachable.attachments.size + 1 }")

  %input(type="file" ng-file-select="onFileSelect($files)")
  %input(type="file" ng-file-select="onFileSelect($files)" accept="image/*" multiple)

  %div(ng-file-drop="onFileSelect($files)" ng-file-drag-over-class="optional-css-class-name-or-function" ng-show="dropSupported" style="width: 100%; height: 200px;border: 1px solid gray")
    drop files here

  %div(ng-file-drop-available="dropSupported=true" ng-show="!dropSupported")
    HTML5 Drop File is not supported!

  %div(class="sel-file" ng-repeat="f in selectedFiles")
    {{ f.file.name }}
    %img(ng-show="f.dataUrl" ng-src="{{f.dataUrl}}")

    %div.progess(style="height: 20px; width: {{ f.progress }}px;background: blue")

    %button.btn(ng-click="upload.abort(f, index)")
      Cancel Upload
